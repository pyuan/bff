<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" 
	horizontalScrollPolicy="off" verticalScrollPolicy="off"
	width="100%" height="80" bottom="0" horizontalCenter="0" mouseEnabled="false"
	creationComplete="init();" xmlns:ui="com.views.ui.*" resize="init();">
	
	<mx:Script>
		<![CDATA[
			
			import com.controllers.ApplicationController;
			import com.constants.Constants;
			
			private function init():void
			{
				//draw background
				this.graphics.clear();
				var matrix:Matrix = new Matrix();
				matrix.rotate(90);
				this.graphics.beginGradientFill(GradientType.LINEAR, [0x000000, 0x1a1a1a], [0.85, 0.5], [128, 255], matrix);
				this.graphics.lineStyle(0);
				this.graphics.moveTo(0, 0);
				var x:int = mainControls.x + mainControls.width + 10;
				this.graphics.lineTo(x, 0);
				this.graphics.lineTo(x+190, this.height-30);
				this.graphics.lineTo(this.width, this.height-30);
				this.graphics.lineTo(this.width, this.height);
				this.graphics.lineTo(0, this.height);
				this.graphics.lineTo(0, 0);
				this.graphics.endFill();
			}
			
			private function togglePause():void
			{
				ApplicationController.getInstance().togglePauseGame();
				if(ApplicationController.getInstance().gameTimer.running){
					pauseButton.label = "pause";
				}
				else{
					pauseButton.label = "resume";
				}
			}
			
		]]>
	</mx:Script>
	
	<mx:HBox id="mainControls" horizontalScrollPolicy="off" verticalScrollPolicy="off"
		verticalAlign="middle" horizontalGap="10" verticalCenter="0" x="50">
		
		<ui:GenericButton label="quit"
			click="ApplicationController.getInstance().quitGame();"/>
			
		<ui:GenericButton id="pauseButton" label="pause" click="togglePause();"/>
		
		<ui:AudioButton/>
		
	</mx:HBox>
	
</mx:Canvas>
